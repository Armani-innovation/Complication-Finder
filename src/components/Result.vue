<script setup>
import GaugeChart from "@/components/GaugeChart.vue";
import RadarChart from "@/components/RadarChart.vue";
import Timer from "@/components/Timer.vue";
import axios from "@/axios/axios.js";
import {onMounted, reactive, ref} from "vue";
import {getTokenInfo} from "@/composables/composable.js";

import jsPDF from "jspdf";
import html2canvas from "html2canvas";

let nationalid = ref(null);

let report_id = ref(null);

const questionnaire = Number(sessionStorage.getItem("questionnaire"));
const nationalID = ref("");

let isLoading = ref(true);

let finalResult = reactive({
  overallScore: 0,
  messages: "",
  subdomain_scores: {}
})

let keys = reactive([]);
let values = reactive([]);
//  let keys = reactive(["هویت برند", "آگاهی از برند", "تجربه مشتری", "وفاداری برند", "ارزیابی برند", "استراتژی برند", "نوآوری در برندینگ"]);
//  let values = reactive([2, 2.5, 3, 1.5, 4, 2, 3.4]);

// let finalMessage = ref("بخش اول گزارش: تحلیل عملکرد برندینگ \n\nشرکت در حوزه پوشاک با توجه به پاسخ های داده شده در پرسشنامه، در برخی از حوزه های برندینگ عملکرد مطلوبی نداشته است. در حوزه هویت برند، ظاهرا برند به خوبی با ماهیت کسب و کار همخوانی ندارد و مشتریان به سختی هویت و ماهیت برند را تشخیص می دهند. در حوزه آگاهی از برند، برند در بازار شناخته شده است اما هنوز به انتخاب اول مشتریان تبدیل نشده است. حضور شرکت در شبکه های اجتماعی محدود بوده و ارتباط منظمی با مخاطبان وجود ندارد. در حوزه تجربه مشتری، تجربه مشتریان مثبت گزارش شده اما نیاز به بهبود دارد. در حوزه وفاداری برند، برنامه هایی برای افزایش وفاداری مشتریان وجود دارد اما به طور منظم اجرا نمی شود. در حوزه ارزیابی برند، ارزیابی خیلی محدود صورت می گیرد و کمتر از نیمی از داده های مشتریان در جهت بهبود مورد استفاده قرار می گیرد. در حوزه استراتژی برند، استراتژی برند کاملاً مشخص و مستند است اما به روزرسانی نمی شود. در حوزه نوآوری در برندینگ، نوآوری به صورت تصادفی و بدون برنامه انجام می شود.\n\nبخش دوم گزارش: تحلیل منحصر به فرد هر حوزه به همراه پیشنهادات منحصر به فرد\n\nحوزه 1: هویت برند\n\nتحلیل: هویت برند شرکت به نظر می رسد که با ماهیت کسب و کار همخوانی ندارد. این می تواند به این دلیل باشد که عناصر قابل رویت برند مانند رنگ، طراحی و لوگو با ماهیت کسب و کار هماهنگ نیستند.\n\nپیشنهاد اول: برای بهبود هویت برند، می توانید بر روی طراحی مجدد لوگو، رنگ و سایر عناصر قابل رویت برند کار کنید. به طور مثال، اگر شرکت شما در حوزه پوشاک زنانه فعالیت می کند، می توانید رنگ هایی را انتخاب کنید که بیشتر به دل زنان بیافتد.\n\nپیشنهاد دوم: برای ایجاد هماهنگی بیشتر بین هویت برند و ماهیت کسب و کار، می توانید بر روی توسعه یک داستان برند کار کنید که می تواند مشتریان را به برند شما وصل کند. به طور مثال، اگر شرکت شما بر روی تولید پوشاک با استفاده از مواد بازیافتی تمرکز دارد، می توانید این موضوع را به عنوان یک بخش از داستان برند خود ارائه دهید.\n\nحوزه 2: آگاهی از برند\n\nتحلیل: برند شما در بازار شناخته شده است اما هنوز به انتخاب اول مشتریان تبدیل نشده است. این نشان می دهد که برند شما نیاز به افزایش آگاهی و حضور بیشتر در ذهن مشتریان دارد.\n\nپیشنهاد اول: برای افزایش آگاهی از برند، می توانید بر روی تبلیغات بیشتر در شبکه های اجتماعی و سایر پلتفرم های آنلاین کار کنید. به طور مثال، می توانید از تبلیغات پرداخت شده در فیس بوک و اینستاگرام استفاده کنید.\n\nپیشنهاد دوم: برای افزایش حضور برند در ذهن مشتریان، می توانید از تکنیک های مختلف بازاریابی محتوا استفاده کنید. به طور مثال، می توانید بلاگ ها، مقالات، ویدئوها و اینفوگرافیک ها را به عنوان بخشی از استراتژی محتوای خود ایجاد کنید.\n\nحوزه 3: تجربه مشتری\n\nتحلیل: تجربه مشتریان شما مثبت گزارش شده اما نیاز به بهبود دارد. این نشان می دهد که شما باید بر روی ارائه یک تجربه مشتری بهتر تمرکز کنید.\n\nپیشنهاد اول: برای بهبود تجربه مشتری، می توانید بر روی ارائه خدمات پس از فروش بهتر کار کنید. به طور مثال، می توانید یک سیستم پشتیبانی مشتری ایجاد کنید که مشتریان را در طول فرآیند خرید و پس از آن پشتیبانی کند.\n\nپیشنهاد دوم: برای ایجاد یک تجربه خرید بهتر، می توانید بر روی بهبود طراحی وب سایت یا فروشگاه آنلاین خود کار کنید. به طور مثال، می توانید از رنگ ها، تصاویر و طراحی هایی استفاده کنید که به مشتریان کمک کند به راحتی محصولات مورد نظر خود را پیدا کنند.\n\nحوزه 4: وفاداری برند\n\nتحلیل: برنامه هایی برای افزایش وفاداری مشتریان به برند وجود دارد اما به طور منظم اجرا نمی شود. این نشان می دهد که شما باید بر روی اجرای منظم این برنامه ها تمرکز کنید.\n\nپیشنهاد اول: برای افزایش وفاداری مشتریان، می توانید برنامه امتیازات مشتری را ایجاد کنید. به طور مثال، می توانید به مشتریان امتیازاتی بدهید که می توانند آنها را برای تخفیف در خرید های بعدی استفاده کنند.\n\nپیشنهاد دوم: برای افزایش وفاداری مشتریان، می توانید بر روی ارائه خدمات ویژه به مشتریان وفادار تمرکز کنید. به طور مثال، می توانید به مشتریان وفادار خود دسترسی ویژه به محصولات جدید یا تخفیف های ویژه بدهید.\n\nحوزه 5: ارزیابی برند\n\nتحلیل: ارزیابی خیلی محدود از عملکرد برند صورت می گیرد و کمتر از نیمی از داده های مشتریان در جهت بهبود مورد استفاده قرار می گیرد. این نشان می دهد که شما باید بر روی ارزیابی منظم و استفاده بهتر از داده های مشتری تمرکز کنید.\n\nپیشنهاد اول: برای بهبود ارزیابی برند، می توانید بر روی ایجاد یک سیستم ارزیابی منظم کار کنید. به طور مثال، می توانید هر سه ماه یک بار یک ارزیابی کامل از عملکرد برند انجام دهید.\n\nپیشنهاد دوم: برای استفاده بهتر از داده های مشتری، می توانید از ابزارهای تحلیل داده استفاده کنید. به طور مثال، می توانید از ابزارهای تحلیل داده مانند Google Analytics برای درک بهتر رفتار مشتریان و عملکرد برند خود استفاده کنید.\n\nحوزه 6: استراتژی برند\n\nتحلیل: استراتژی برند شما کاملاً مشخص و مستند است اما به روزرسانی نمی شود. این نشان می دهد که شما باید بر روی به روزرسانی منظم استراتژی برند خود تمرکز کنید.\n\nپیشنهاد اول: برای به روزرسانی استراتژی برند، می توانید بر روی بررسی منظم بازار و رقبا تمرکز کنید. به طور مثال، می توانید هر سه ماه یک بار بازار و رقبا را بررسی کنید و استراتژی برند خود را بر اساس نتایج به روزرسانی کنید.\n\nپیشنهاد دوم: برای به روزرسانی استراتژی برند، می توانید بر روی دریافت بازخورد مشتریان تمرکز کنید. به طور مثال، می توانید از نظرسنجی ها، گروه های مرور و داده های مشتری برای دریافت بازخورد مشتریان و به روزرسانی استراتژی برند خود استفاده کنید.\n\nحوزه 7: نوآوری در برندینگ\n\nتحلیل: نوآوری در برندینگ به صورت تصادفی و بدون برنامه انجام می شود. این نشان می دهد که شما باید بر روی ایجاد یک برنامه منظم برای نوآوری در برندینگ تمرکز کنید.\n\nپیشنهاد اول: برای نوآوری در برندینگ، می توانید بر روی ا")
// let finalMessage = ref("تحلیل: هویت برند شرکت به صورت واضح تعریف شده و با ماهیت کسب و کار همخوانی دارد. این یک نقطه قوت بزرگ برای شرکت است، زیرا این موضوع می‌تواند به ایجاد اعتماد و ارتباط بیشتر با مشتریان کمک کند. با این حال، مشکل اصلی در این است که کارکنان شرکت آشنایی کافی با هویت برند ندارند. این می‌تواند به معنای عدم وجود یک فرهنگ سازمانی قوی و یکپارچه باشد که می‌تواند بر عملکرد کلی شرکت تأثیر منفی بگذارد.\n\nپیشنهاد اول: برگزاری جلسات آموزشی برای کارکنان در مورد هویت برند\nبه طور مثال: می‌توانید جلسات آموزشی را برای کارکنان برگزار کنید که در آن‌ها هویت برند، ارزش‌ها و اهداف شرکت را توضیح دهید. این می‌تواند به آن‌ها کمک کند تا بهتر با برند هماهنگ شوند و این هویت را در تماس‌های خود با مشتریان منعکس کنند.\n\nپیشنهاد دوم: ایجاد یک دفترچه راهنمای برند برای کارکنان\nبه طور مثال: یک دفترچه راهنمای برند می‌تواند شامل معرفی برند، ارزش‌ها، رسالت و دیدگاه شرکت باشد. این دفترچه باید به طور منظم به روزرسانی شود و به کارکنان توزیع شود تا آن‌ها را با هویت برند آشنا کند.\n\nپیشنهاد سوم: تشویق کارکنان به ارائه پیشنهادات برای بهبود هویت برند\nبه طور مثال: می‌توانید یک سیستم پاداش برای کارکنان ایجاد کنید که پیشنهادات خلاقانه برای بهبود هویت برند ارائه دهند. این می‌تواند به ایجاد یک فرهنگ سازمانی مشارکتی کمک کند و همچنین کارکنان را تشویق به فکر کردن در مورد برند و چگونگی بهبود آن کند.حوزه: آگاهی از برند\n\nتحلیل: بر اساس پاسخ‌های دریافتی، به نظر می‌رسد که شرکت در حوزه آگاهی از برند با چالش‌هایی مواجه است. اولاً، بیشتر مشتریانی که با برند آشنایی دارند، مشتریان قدیمی هستند و این نشان می‌دهد که شرکت در جذب مشتریان جدید موفق نیست. دوماً، شرکت در برخی شبکه‌ها فعالیت کمتری دارد که می‌تواند نشان‌دهنده عدم استفاده کامل از پتانسیل‌های بازاریابی باشد.\n\nپیشنهاد اول: افزایش حضور در شبکه‌هایی که فعالیت کمتری دارید\nبه طور مثال: اگر شرکت در شبکه‌های اجتماعی مانند اینستاگرام یا توییتر فعالیت کمتری دارد، می‌توان با تولید محتوای مناسب و جذاب برای این پلتفرم‌ها، حضور بیشتری در آن‌ها داشت.\n\nپیشنهاد دوم: اجرای کمپین‌های بازاریابی برای جذب مشتریان جدید\nبه طور مثال: می‌توانید کمپین‌های تبلیغاتی را از طریق شبکه‌های اجتماعی اجرا کنید و با ارائه تخفیفات ویژه برای مشتریان جدید، آن‌ها را به سمت برند خود جذب کنید.\n\nپیشنهاد سوم: افزایش آگاهی کارکنان از هویت برند\nبه طور مثال: می‌توانید کارگاه‌های آموزشی را برای کارکنان خود برگزار کنید تا آن‌ها را با هویت برند آشنا کنید و بتوانند این هویت را به خوبی به مشتریان منتقل کنند.حوزه : تجربه مشتری\n\nتجربه مشتری در شرکتی که در حوزه تجاری سازی فعالیت میکند بسیار مهم است. بر اساس پاسخ‌های ارائه شده، به نظر می‌رسد که تجربه مشتریان این شرکت مثبت گزارش شده است، اما استفاده از بازخورد مشتریان به نظر نمی‌رسد. این نشان می‌دهد که شرکت می‌تواند در این حوزه بهبود بیابد.\n\nپیشنهاد اول: ایجاد یک سیستم جمع‌آوری بازخورد مشتریان\nبه طور مثال: می‌توان یک فرم آنلاین ساده را برای جمع‌آوری بازخورد مشتریان ایجاد کرد. این فرم می‌تواند شامل سوالاتی در مورد کیفیت محصولات، خدمات پس از فروش و تجربه کلی مشتری باشد.\n\nپیشنهاد دوم: استفاده از بازخورد مشتریان برای بهبود محصولات و خدمات\nبه طور مثال: با استفاده از بازخورد مشتریان، شرکت می‌تواند نقاط قوت و ضعف محصولات و خدمات خود را شناسایی کرده و برنامه‌های بهبود را اجرا کند.\n\nپیشنهاد سوم: ایجاد یک سیستم پاداش برای بازخورد مشتریان\nبه طور مثال: شرکت می‌تواند یک سیستم پاداش ایجاد کند که مشتریان را برای ارائه بازخورد تشویق کند. این می‌تواند شامل تخفیف‌های خرید بعدی، کوپن‌های هدیه یا محصولات رایگان باشد. \n\nپیشنهاد چهارم: ایجاد یک سیستم پیگیری بازخورد مشتریان\nبه طور مثال: شرکت می‌تواند یک سیستم پیگیری ایجاد کند که بازخورد مشتریان را پیگیری کند و از اینکه آیا مشکلات و نیازهای آنها برطرف شده است یا خیر اطمینان حاصل کند.\n\nپیشنهاد پنجم: ایجاد یک تیم متخصص در حوزه تجربه مشتری\nبه طور مثال: شرکت می‌تواند یک تیم متخصص ایجاد کند که وظیفه آن جمع‌آوری، تحلیل و اجرای بازخورد مشتریان باشد. این تیم می‌تواند به بهبود تجربه مشتریان و افزایش رضایت آنها کمک کند.حوزه : وفاداری برند\n\nتحلیل: بر اساس پاسخ‌های ارائه شده، می‌توان دریافت که شرکت در حوزه وفاداری برند با چالش‌هایی مواجه است. اگرچه مشتریان به طور منظم خرید مجدد انجام می‌دهند و حتی با قیمت بالاتر هم وفاداری خود را حفظ می‌کنند، اما برنامه‌های وفاداری شرکت محدود و غیرمنظم است. این نشان می‌دهد که شرکت باید بر روی توسعه و اجرای منظم برنامه‌های وفاداری تمرکز کند.\n\nپیشنهاد اول: اجرای منظم برنامه‌های وفاداری\nبه طور مثال: شرکت می‌تواند برنامه‌های وفاداری مانند تخفیف‌های خرید مجدد، امتیازات خرید و پاداش‌های ویژه را به طور منظم اجرا کند. این برنامه‌ها می‌توانند به صورت ماهانه یا فصلی اجرا شوند.\n\nپیشنهاد دوم: توسعه برنامه‌های وفاداری\nبه طور مثال: شرکت می‌تواند برنامه‌های وفاداری جدیدی مانند برنامه‌های پیشنهادی، پاداش‌های خرید بالا و تخفیف‌های خاص روزهای ویژه را توسعه دهد.\n\nپیشنهاد سوم: ارتباط بیشتر با مشتریان\nبه طور مثال: شرکت می‌تواند از طریق ایمیل، پیامک یا شبکه‌های اجتماعی با مشتریان در ارتباط باشد و آن‌ها را از برنامه‌های وفاداری جدید و تخفیف‌ها مطلع کند. \n\nپیشنهاد چهارم: استفاده از بازخورد مشتریان\nبه طور مثال: شرکت می‌تواند از بازخورد مشتریان برای بهبود برنامه‌های وفاداری استفاده کند. این بازخورد می‌تواند از طریق نظرسنجی‌ها، فرم‌های بازخورد یا حتی گفتگوهای مستقیم با مشتریان جمع‌آوری شود.\n\nپیشنهاد پنجم: تشویق مشتریان به خرید مجدد\nبه طور مثال: شرکت می‌تواند مشتریان را با ارائه تخفیف‌ها و پاداش‌های خاص برای خرید‌های مکرر، تشویق به خرید مجدد کند. این می‌تواند به شکل کد تخفیف برای خرید بعدی یا امتیازات قابل تبدیل به تخفیف باشد.حوزه : ارزیابی برند\n\nتحلیل: ارزیابی برند برای هر شرکتی حیاتی است. از پاسخ‌های شما به نظر می‌رسد که شرکت شما ارزیابی برند را انجام نمی‌دهد و فقط کمتر از نیمی از داده‌های مشتریان را برای بهبود استفاده می‌کند. این می‌تواند به دلیل عدم آگاهی از اهمیت ارزیابی برند یا عدم دسترسی به ابزارهای مناسب باشد.\n\nپیشنهاد اول: استفاده از ابزارهای ارزیابی برند. این ابزارها می‌توانند به شما کمک کنند تا بفهمید که مشتریان چگونه برند شما را می‌بینند و چگونه با آن برخورد می‌کنند.\nبه طور مثال: شما می‌توانید از ابزارهای آنلاین مانند سرویس‌های پیامکی یا نظرسنجی‌های آنلاین برای جمع‌آوری نظرات مشتریان استفاده کنید.\n\nپیشنهاد دوم: استفاده از داده‌های مشتریان به طور کامل. این داده‌ها می‌توانند شامل رفتار خرید، بازخورد مشتری و داده‌های دیگر باشند.\nبه طور مثال: شما می‌توانید از داده‌های خرید مشتریان برای فهمیدن نیازها و ترجیحات آن‌ها استفاده کنید.\n\nپیشنهاد سوم: ایجاد یک برنامه منظم برای ارزیابی برند. این برنامه می‌تواند شامل بررسی دوره‌ای بازخورد مشتری، بررسی رقابت و بررسی عملکرد فروش باشد.\nبه طور مثال: شما می‌توانید هر سه ماه یک بار بازخورد مشتریان را بررسی کنید و بر اساس آن تغییرات لازم را در برند خود اعمال کنید.حوزه : استراتژی برند\n\nاستراتژی برند شرکت به نظر می‌رسد که به خوبی تعریف شده و مستند است و با توجه به تجزیه و تحلیل بازار به روزرسانی می‌شود. این نشان می‌دهد که شرکت دارای یک برنامه واضح و مشخص برای برند خود است. با این حال، میزان سرمایه‌گذاری در این زمینه محدود است که می‌تواند به عنوان یک محدودیت در توسعه و گسترش برند در نظر گرفته شود.\n\nپیشنهاد اول: افزایش سرمایه گذاری در استراتژی برند\nبه طور مثال: شرکت می‌تواند برای افزایش سرمایه‌گذاری در برند خود، برنامه‌هایی را برای جذب سرمایه‌گذاران اجرا کند. این می‌تواند شامل ارائه طرح‌های تجاری جذاب و قابل اعتماد به سرمایه‌گذاران باشد.\n\nپیشنهاد دوم: به روزرسانی مداوم استراتژی برند\nبه طور مثال: شرکت می‌تواند یک تیم متخصص را برای پیگیری و بررسی بازار و رقبا تشکیل دهد تا استراتژی برند را بر اساس تحولات بازار به روز کند.\n\nپیشنهاد سوم: آموزش کارکنان در مورد استراتژی برند\nبه طور مثال: شرکت می‌تواند کارگاه‌های آموزشی را برای کارکنان خود برگزار کند تا آن‌ها را با استراتژی برند آشنا کند و نقش خود را در اجرای آن بفهمند. \n\nپیشنهاد چهارم: ایجاد یک بخش مخصوص برای مدیریت برند\nبه طور مثال: شرکت می‌تواند یک بخش مخصوص برای مدیریت برند ایجاد کند که مسئولیت طراحی، اجرا و نظارت بر استراتژی برند را بر عهده داشته باشد.\n\nپیشنهاد پنجم: استفاده از فناوری در اجرای استراتژی برند\nبه طور مثال: شرکت می‌تواند از ابزارهای دیجیتالی مانند شبکه‌های اجتماعی و وبسایت‌ها برای اجرای استراتژی برند و ارتباط با مشتریان استفاده کند.حوزه: نوآوری در برندینگ\n\nتحلیل: بر اساس پاسخ‌های ارائه شده، مشخص است که شرکت توجه کمی به نوآوری در برند دارد. این موضوع می‌تواند به دلیل محدودیت‌های منابع و یا عدم آگاهی از اهمیت نوآوری در برند باشد. نوآوری در برندینگ می‌تواند به شرکت کمک کند تا با رقبا متمایز شود، مشتریان جدید جذب کند و وفاداری مشتریان فعلی را افزایش دهد.\n\nپیشنهاد اول: ایجاد یک تیم مخصوص برای نوآوری در برندینگ\nبه طور مثال: تیمی از افراد خلاق و با تجربه را برای توسعه و پیاده‌سازی ایده‌های نو در زمینه برندینگ ایجاد کنید. این تیم می‌تواند بر روی پروژه‌های مختلفی مانند طراحی لوگوی جدید، توسعه استراتژی‌های بازاریابی جدید و غیره کار کند.\n\nپیشنهاد دوم: استفاده از تکنولوژی‌های جدید در برندینگ\nبه طور مثال: از روش‌های جدیدی مانند بازاریابی محتوا، بازاریابی در شبکه‌های اجتماعی، ویدئو مارکتینگ و غیره استفاده کنید. این روش‌ها می‌توانند به شرکت کمک کنند تا برند خود را به روز و جذاب نگه دارد.\n\nپیشنهاد سوم: ایجاد فرهنگ نوآوری در سازمان\nبه طور مثال: برگزاری جلسات فکری و خلاق برای کارکنان و تشویق آن‌ها به ارائه ایده‌های نو در زمینه برندینگ. این می‌تواند به ایجاد فرهنگی از نوآوری در سازمان کمک کند.پاراگراف اول: (اهمیت عارضه یابی برندینگ شرکت با توجه به صنعت تجاری سازی)\nدر صنعت تجاری سازی، برندینگ بسیار حیاتی است. این صنعت معمولاً شامل رقابت بسیار بالایی است و برای برجسته شدن، شرکت ها باید بتوانند برند قوی و معتبری را ایجاد کنند. برندینگ می تواند به شرکت ها کمک کند تا از رقبای خود جدا شوند، اعتماد مشتریان را جلب کنند و بازدهی بیشتری را از بازار خود بدست آورند. بنابراین، عارضه یابی برندینگ برای شرکت های کوچک در این صنعت بسیار حیاتی است.\n\nپاراگراف دوم: (تحلیل عملکرد برندینگ شرکت با توجه به پاسخ های هر حوزه)\nبر اساس پاسخ های ارائه شده، به نظر می رسد که شرکت در برخی از حوزه های برندینگ خوب عمل می کند، اما در برخی دیگر نیاز به بهبود دارد. برای مثال، شرکت هویت برند خود را به خوبی تعریف کرده است، اما کارکنان آن به نظر می رسد با این هویت آشنا نیستند. همچنین، در حوزه آگاهی از برند، شرکت به نظر می رسد فقط به مشتریان قدیمی خود تکیه می کند و در برخی از شبکه ها فعالیت کمتری دارد. در حوزه تجربه مشتری، شرکت به نظر می رسد نتایج مثبتی دارد، اما از بازخورد مشتریان استفاده نمی کند. در حوزه وفاداری برند، شرکت به نظر می رسد برنامه های محدودی دارد و در حوزه ارزیابی برند، به نظر می رسد که شرکت ارزیابی کافی ندارد. در حوزه استراتژی برند، شرکت به نظر می رسد استراتژی خوبی دارد، اما سرمایه گذاری محدودی دارد. در نهایت، در حوزه نوآوری در برندینگ، شرکت به نظر می رسد توجهی ندارد.\n\nبر اساس تحلیل فوق، نقاط قوت شرکت در برندینگ شامل تعریف خوبی از هویت برند، تجربه مثبت مشتریان و استراتژی برند مشخص است. اما، نقاط ضعف شرکت شامل عدم آگاهی کارکنان از هویت برند، عدم استفاده از بازخورد مشتری، برنامه های محدود وفاداری برند، عدم ارزیابی کافی برند و عدم توجه به نوآوری در برندینگ است. برای بهبود عملکرد برندینگ، شرکت باید بر روی این نقاط ضعف کار کند.")
// let finalMessage = ref("secondeتحلیل: هویت برند شرکت به صورت واضح تعریف شده و با ماهیت کسب و کار همخوانی دارد. این یک نقطه قوت بزرگ برای شرکت است، زیرا این موضوع می‌تواند به ایجاد اعتماد و ارتباط بیشتر با مشتریان کمک کند. با این حال، مشکل اصلی در این است که کارکنان شرکت آشنایی کافی با هویت برند ندارند. این می‌تواند به معنای عدم وجود یک فرهنگ سازمانی قوی و یکپارچه باشد که می‌تواند بر عملکرد کلی شرکت تأثیر منفی بگذارد.\n\nپیشنهاد اول: برگزاری جلسات آموزشی برای کارکنان در مورد هویت برند\nبه طور مثال: می‌توانید جلسات آموزشی را برای کارکنان برگزار کنید که در آن‌ها هویت برند، ارزش‌ها و اهداف شرکت را توضیح دهید. این می‌تواند به آن‌ها کمک کند تا بهتر با برند هماهنگ شوند و این هویت را در تماس‌های خود با مشتریان منعکس کنند.\n\nپیشنهاد دوم: ایجاد یک دفترچه راهنمای برند برای کارکنان\nبه طور مثال: یک دفترچه راهنمای برند می‌تواند شامل معرفی برند، ارزش‌ها، رسالت و دیدگاه شرکت باشد. این دفترچه باید به طور منظم به روزرسانی شود و به کارکنان توزیع شود تا آن‌ها را با هویت برند آشنا کند.\n\nپیشنهاد سوم: تشویق کارکنان به ارائه پیشنهادات برای بهبود هویت برند\nبه طور مثال: می‌توانید یک سیستم پاداش برای کارکنان ایجاد کنید که پیشنهادات خلاقانه برای بهبود هویت برند ارائه دهند. این می‌تواند به ایجاد یک فرهنگ سازمانی مشارکتی کمک کند و همچنین کارکنان را تشویق به فکر کردن در مورد برند و چگونگی بهبود آن کند.حوزه: آگاهی از برند\n\nتحلیل: بر اساس پاسخ‌های دریافتی، به نظر می‌رسد که شرکت در حوزه آگاهی از برند با چالش‌هایی مواجه است. اولاً، بیشتر مشتریانی که با برند آشنایی دارند، مشتریان قدیمی هستند و این نشان می‌دهد که شرکت در جذب مشتریان جدید موفق نیست. دوماً، شرکت در برخی شبکه‌ها فعالیت کمتری دارد که می‌تواند نشان‌دهنده عدم استفاده کامل از پتانسیل‌های بازاریابی باشد.\n\nپیشنهاد اول: افزایش حضور در شبکه‌هایی که فعالیت کمتری دارید\nبه طور مثال: اگر شرکت در شبکه‌های اجتماعی مانند اینستاگرام یا توییتر فعالیت کمتری دارد، می‌توان با تولید محتوای مناسب و جذاب برای این پلتفرم‌ها، حضور بیشتری در آن‌ها داشت.\n\nپیشنهاد دوم: اجرای کمپین‌های بازاریابی برای جذب مشتریان جدید\nبه طور مثال: می‌توانید کمپین‌های تبلیغاتی را از طریق شبکه‌های اجتماعی اجرا کنید و با ارائه تخفیفات ویژه برای مشتریان جدید، آن‌ها را به سمت برند خود جذب کنید.\n\nپیشنهاد سوم: افزایش آگاهی کارکنان از هویت برند\nبه طور مثال: می‌توانید کارگاه‌های آموزشی را برای کارکنان خود برگزار کنید تا آن‌ها را با هویت برند آشنا کنید و بتوانند این هویت را به خوبی به مشتریان منتقل کنند.حوزه : تجربه مشتری\n\nتجربه مشتری در شرکتی که در حوزه تجاری سازی فعالیت میکند بسیار مهم است. بر اساس پاسخ‌های ارائه شده، به نظر می‌رسد که تجربه مشتریان این شرکت مثبت گزارش شده است، اما استفاده از بازخورد مشتریان به نظر نمی‌رسد. این نشان می‌دهد که شرکت می‌تواند در این حوزه بهبود بیابد.\n\nپیشنهاد اول: ایجاد یک سیستم جمع‌آوری بازخورد مشتریان\nبه طور مثال: می‌توان یک فرم آنلاین ساده را برای جمع‌آوری بازخورد مشتریان ایجاد کرد. این فرم می‌تواند شامل سوالاتی در مورد کیفیت محصولات، خدمات پس از فروش و تجربه کلی مشتری باشد.\n\nپیشنهاد دوم: استفاده از بازخورد مشتریان برای بهبود محصولات و خدمات\nبه طور مثال: با استفاده از بازخورد مشتریان، شرکت می‌تواند نقاط قوت و ضعف محصولات و خدمات خود را شناسایی کرده و برنامه‌های بهبود را اجرا کند.\n\nپیشنهاد سوم: ایجاد یک سیستم پاداش برای بازخورد مشتریان\nبه طور مثال: شرکت می‌تواند یک سیستم پاداش ایجاد کند که مشتریان را برای ارائه بازخورد تشویق کند. این می‌تواند شامل تخفیف‌های خرید بعدی، کوپن‌های هدیه یا محصولات رایگان باشد. \n\nپیشنهاد چهارم: ایجاد یک سیستم پیگیری بازخورد مشتریان\nبه طور مثال: شرکت می‌تواند یک سیستم پیگیری ایجاد کند که بازخورد مشتریان را پیگیری کند و از اینکه آیا مشکلات و نیازهای آنها برطرف شده است یا خیر اطمینان حاصل کند.\n\nپیشنهاد پنجم: ایجاد یک تیم متخصص در حوزه تجربه مشتری\nبه طور مثال: شرکت می‌تواند یک تیم متخصص ایجاد کند که وظیفه آن جمع‌آوری، تحلیل و اجرای بازخورد مشتریان باشد. این تیم می‌تواند به بهبود تجربه مشتریان و افزایش رضایت آنها کمک کند.حوزه : وفاداری برند\n\nتحلیل: بر اساس پاسخ‌های ارائه شده، می‌توان دریافت که شرکت در حوزه وفاداری برند با چالش‌هایی مواجه است. اگرچه مشتریان به طور منظم خرید مجدد انجام می‌دهند و حتی با قیمت بالاتر هم وفاداری خود را حفظ می‌کنند، اما برنامه‌های وفاداری شرکت محدود و غیرمنظم است. این نشان می‌دهد که شرکت باید بر روی توسعه و اجرای منظم برنامه‌های وفاداری تمرکز کند.\n\nپیشنهاد اول: اجرای منظم برنامه‌های وفاداری\nبه طور مثال: شرکت می‌تواند برنامه‌های وفاداری مانند تخفیف‌های خرید مجدد، امتیازات خرید و پاداش‌های ویژه را به طور منظم اجرا کند. این برنامه‌ها می‌توانند به صورت ماهانه یا فصلی اجرا شوند.\n\nپیشنهاد دوم: توسعه برنامه‌های وفاداری\nبه طور مثال: شرکت می‌تواند برنامه‌های وفاداری جدیدی مانند برنامه‌های پیشنهادی، پاداش‌های خرید بالا و تخفیف‌های خاص روزهای ویژه را توسعه دهد.\n\nپیشنهاد سوم: ارتباط بیشتر با مشتریان\nبه طور مثال: شرکت می‌تواند از طریق ایمیل، پیامک یا شبکه‌های اجتماعی با مشتریان در ارتباط باشد و آن‌ها را از برنامه‌های وفاداری جدید و تخفیف‌ها مطلع کند. \n\nپیشنهاد چهارم: استفاده از بازخورد مشتریان\nبه طور مثال: شرکت می‌تواند از بازخورد مشتریان برای بهبود برنامه‌های وفاداری استفاده کند. این بازخورد می‌تواند از طریق نظرسنجی‌ها، فرم‌های بازخورد یا حتی گفتگوهای مستقیم با مشتریان جمع‌آوری شود.\n\nپیشنهاد پنجم: تشویق مشتریان به خرید مجدد\nبه طور مثال: شرکت می‌تواند مشتریان را با ارائه تخفیف‌ها و پاداش‌های خاص برای خرید‌های مکرر، تشویق به خرید مجدد کند. این می‌تواند به شکل کد تخفیف برای خرید بعدی یا امتیازات قابل تبدیل به تخفیف باشد.حوزه : ارزیابی برند\n\nتحلیل: ارزیابی برند برای هر شرکتی حیاتی است. از پاسخ‌های شما به نظر می‌رسد که شرکت شما ارزیابی برند را انجام نمی‌دهد و فقط کمتر از نیمی از داده‌های مشتریان را برای بهبود استفاده می‌کند. این می‌تواند به دلیل عدم آگاهی از اهمیت ارزیابی برند یا عدم دسترسی به ابزارهای مناسب باشد.\n\nپیشنهاد اول: استفاده از ابزارهای ارزیابی برند. این ابزارها می‌توانند به شما کمک کنند تا بفهمید که مشتریان چگونه برند شما را می‌بینند و چگونه با آن برخورد می‌کنند.\nبه طور مثال: شما می‌توانید از ابزارهای آنلاین مانند سرویس‌های پیامکی یا نظرسنجی‌های آنلاین برای جمع‌آوری نظرات مشتریان استفاده کنید.\n\nپیشنهاد دوم: استفاده از داده‌های مشتریان به طور کامل. این داده‌ها می‌توانند شامل رفتار خرید، بازخورد مشتری و داده‌های دیگر باشند.\nبه طور مثال: شما می‌توانید از داده‌های خرید مشتریان برای فهمیدن نیازها و ترجیحات آن‌ها استفاده کنید.\n\nپیشنهاد سوم: ایجاد یک برنامه منظم برای ارزیابی برند. این برنامه می‌تواند شامل بررسی دوره‌ای بازخورد مشتری، بررسی رقابت و بررسی عملکرد فروش باشد.\nبه طور مثال: شما می‌توانید هر سه ماه یک بار بازخورد مشتریان را بررسی کنید و بر اساس آن تغییرات لازم را در برند خود اعمال کنید.حوزه : استراتژی برند\n\nاستراتژی برند شرکت به نظر می‌رسد که به خوبی تعریف شده و مستند است و با توجه به تجزیه و تحلیل بازار به روزرسانی می‌شود. این نشان می‌دهد که شرکت دارای یک برنامه واضح و مشخص برای برند خود است. با این حال، میزان سرمایه‌گذاری در این زمینه محدود است که می‌تواند به عنوان یک محدودیت در توسعه و گسترش برند در نظر گرفته شود.\n\nپیشنهاد اول: افزایش سرمایه گذاری در استراتژی برند\nبه طور مثال: شرکت می‌تواند برای افزایش سرمایه‌گذاری در برند خود، برنامه‌هایی را برای جذب سرمایه‌گذاران اجرا کند. این می‌تواند شامل ارائه طرح‌های تجاری جذاب و قابل اعتماد به سرمایه‌گذاران باشد.\n\nپیشنهاد دوم: به روزرسانی مداوم استراتژی برند\nبه طور مثال: شرکت می‌تواند یک تیم متخصص را برای پیگیری و بررسی بازار و رقبا تشکیل دهد تا استراتژی برند را بر اساس تحولات بازار به روز کند.\n\nپیشنهاد سوم: آموزش کارکنان در مورد استراتژی برند\nبه طور مثال: شرکت می‌تواند کارگاه‌های آموزشی را برای کارکنان خود برگزار کند تا آن‌ها را با استراتژی برند آشنا کند و نقش خود را در اجرای آن بفهمند. \n\nپیشنهاد چهارم: ایجاد یک بخش مخصوص برای مدیریت برند\nبه طور مثال: شرکت می‌تواند یک بخش مخصوص برای مدیریت برند ایجاد کند که مسئولیت طراحی، اجرا و نظارت بر استراتژی برند را بر عهده داشته باشد.\n\nپیشنهاد پنجم: استفاده از فناوری در اجرای استراتژی برند\nبه طور مثال: شرکت می‌تواند از ابزارهای دیجیتالی مانند شبکه‌های اجتماعی و وبسایت‌ها برای اجرای استراتژی برند و ارتباط با مشتریان استفاده کند.حوزه: نوآوری در برندینگ\n\nfirstتحلیل: بر اساس پاسخ‌های ارائه شده، مشخص است که شرکت توجه کمی به نوآوری در برند دارد. این موضوع می‌تواند به دلیل محدودیت‌های منابع و یا عدم آگاهی از اهمیت نوآوری در برند باشد. نوآوری در برندینگ می‌تواند به شرکت کمک کند تا با رقبا متمایز شود، مشتریان جدید جذب کند و وفاداری مشتریان فعلی را افزایش دهد.\n\nپیشنهاد اول: ایجاد یک تیم مخصوص برای نوآوری در برندینگ\nبه طور مثال: تیمی از افراد خلاق و با تجربه را برای توسعه و پیاده‌سازی ایده‌های نو در زمینه برندینگ ایجاد کنید. این تیم می‌تواند بر روی پروژه‌های مختلفی مانند طراحی لوگوی جدید، توسعه استراتژی‌های بازاریابی جدید و غیره کار کند.\n\nپیشنهاد دوم: استفاده از تکنولوژی‌های جدید در برندینگ\nبه طور مثال: از روش‌های جدیدی مانند بازاریابی محتوا، بازاریابی در شبکه‌های اجتماعی، ویدئو مارکتینگ و غیره استفاده کنید. این روش‌ها می‌توانند به شرکت کمک کنند تا برند خود را به روز و جذاب نگه دارد.\n\nپیشنهاد سوم: ایجاد فرهنگ نوآوری در سازمان\nبه طور مثال: برگزاری جلسات فکری و خلاق برای کارکنان و تشویق آن‌ها به ارائه ایده‌های نو در زمینه برندینگ. این می‌تواند به ایجاد فرهنگی از نوآوری در سازمان کمک کند.پاراگراف اول: (اهمیت عارضه یابی برندینگ شرکت با توجه به صنعت تجاری سازی)\nدر صنعت تجاری سازی، برندینگ بسیار حیاتی است. این صنعت معمولاً شامل رقابت بسیار بالایی است و برای برجسته شدن، شرکت ها باید بتوانند برند قوی و معتبری را ایجاد کنند. برندینگ می تواند به شرکت ها کمک کند تا از رقبای خود جدا شوند، اعتماد مشتریان را جلب کنند و بازدهی بیشتری را از بازار خود بدست آورند. بنابراین، عارضه یابی برندینگ برای شرکت های کوچک در این صنعت بسیار حیاتی است.\n\nپاراگراف دوم: (تحلیل عملکرد برندینگ شرکت با توجه به پاسخ های هر حوزه)\nبر اساس پاسخ های ارائه شده، به نظر می رسد که شرکت در برخی از حوزه های برندینگ خوب عمل می کند، اما در برخی دیگر نیاز به بهبود دارد. برای مثال، شرکت هویت برند خود را به خوبی تعریف کرده است، اما کارکنان آن به نظر می رسد با این هویت آشنا نیستند. همچنین، در حوزه آگاهی از برند، شرکت به نظر می رسد فقط به مشتریان قدیمی خود تکیه می کند و در برخی از شبکه ها فعالیت کمتری دارد. در حوزه تجربه مشتری، شرکت به نظر می رسد نتایج مثبتی دارد، اما از بازخورد مشتریان استفاده نمی کند. در حوزه وفاداری برند، شرکت به نظر می رسد برنامه های محدودی دارد و در حوزه ارزیابی برند، به نظر می رسد که شرکت ارزیابی کافی ندارد. در حوزه استراتژی برند، شرکت به نظر می رسد استراتژی خوبی دارد، اما سرمایه گذاری محدودی دارد. در نهایت، در حوزه نوآوری در برندینگ، شرکت به نظر می رسد توجهی ندارد.\n\nبر اساس تحلیل فوق، نقاط قوت شرکت در برندینگ شامل تعریف خوبی از هویت برند، تجربه مثبت مشتریان و استراتژی برند مشخص است. اما، نقاط ضعف شرکت شامل عدم آگاهی کارکنان از هویت برند، عدم استفاده از بازخورد مشتری، برنامه های محدود وفاداری برند، عدم ارزیابی کافی برند و عدم توجه به نوآوری در برندینگ است. برای بهبود عملکرد برندینگ، شرکت باید بر روی این نقاط ضعف کار کند.")
let finalMessage = ref("")


let message = reactive([]);
let secondPartMessage = reactive([]);

let interval ;

async function fetchInfos() {
  const token = sessionStorage.getItem("token");
  const user = await getTokenInfo(token);
  nationalID.value = nationalid.value || user.nationalID;
  await firstRequest()
  interval = setInterval(async () => {
    await getResult();
  }, 60000)
}

async function firstRequest() {
  const res = await axios.post(`questionnaire/report/`, {nationalID: nationalID.value , questionnaire_id : questionnaire})
  console.log(res.data)
  report_id.value = res.data.report_id
}

async function getResult() {
  const res = await axios.get(`questionnaire/${report_id.value}/result/`)
  if (res.data.status === "done") {
    clearInterval(interval)
    console.log(res.data)
    finalMessage.value = res.data.result.messages;
    await Object.assign(finalResult, res.data.result);

    for (const score in res.data.result.subdomain_scores) {
      keys.push(score)
      values.push(res.data.result.subdomain_scores[score])
    }

    finalMessage.value = finalMessage.value.toString().replace("\u200c", " ");

    // finalMessage.value = finalMessage.value.toString().replace("seconde", "");
    // message = finalMessage.value.toString().split('first');
    // secondPartMessage = message[0].toString().split("تحلیل:")

    // setTimeout(()=>{
    //   isLoading.value = false
    // } , 5000)

    await setPartOne()
    await setDomainsText()
    isLoading.value = false
  }
}

async function setPartOne() {
  const match = finalMessage.value.toString().match(/start first([\s\S]*?)end first/);

  if (match) {
    const extracted = match[1];
    message.push(extracted.trim())
  } else {
    console.log("عبارتی بین start first و end first پیدا نشد.");
  }
}

async function setDomainsText() {
  const match = finalMessage.value.toString().match(/start this subdomain([\s\S]*?)end this subdomain/);

  if (match) {
    const extracted = match[1];
    secondPartMessage.push(extracted.trim())
  } else {
    console.log("عبارتی بین start this subdomain و end this subdomain پیدا نشد.");
  }
}

const generatePDF = async () => {
  const element = document.getElementById("pdf-content");

  if (!element) return;

  const canvas = await html2canvas(element, {scale: 3});
  const imgData = canvas.toDataURL("image/png");
  const pdf = new jsPDF("p", "mm", "a4");
  const imgWidth = 210;
  const pageHeight = 297;
  const imgHeight = (canvas.height * imgWidth) / canvas.width;

  let yPosition = 0;

  while (yPosition < imgHeight) {
    pdf.addImage(imgData, "PNG", 0, -yPosition, imgWidth, imgHeight);
    yPosition += pageHeight;

    if (yPosition < imgHeight) {
      pdf.addPage();
    }
  }

  pdf.save(`گزارش عارضه یابی .pdf`);

};

onMounted(() => {
  nationalid.value = JSON.parse(sessionStorage.getItem("nationalID"))
  fetchInfos();
})

</script>

<template>
  <div id="pdf-content" class="main" v-if="!isLoading">

    <div class="logo">
      <img src="../assets/images/logo.png" alt="">
    </div>

    <div class="finalResult">

      <div class="textAndChart">
        <div>
          <p>
            {{ message[0] }}
          </p>
        </div>
        <GaugeChart class="gaugeChart" :value="result.overallScore"/>
      </div>

      <div class="chartAndResults">
        <RadarChart class="radarChart" :values="values" :keys="keys"/>
        <br>
        <div v-for="(message , index) in secondPartMessage" :key="message">
          <p>
            {{ message }}
          </p>
          <hr v-if="index !== 0 && index !== secondPartMessage.length-1">
        </div>
      </div>

    </div>

    <router-link class="saveAndNext" to="/domains">
      ادامه عارضه یابی
    </router-link>

    <p class="finalText">
      شما می‌توانید برای دریافت راهنمایی بیشتر و استفاده از نظرات تخصصی مشاوران فروش و
      مارکتینگ
      شرکت
      دانش بنیان شبکه نوآوری آرمانی با شماره‌های
      <a href="tel:+982332300357">32300357-023</a>
      یا
      <a href="tel:+989046504331">09046504331</a>
      تماس حاصل نمایید.
    </p>

    <button class="saveAndNext" @click="generatePDF">دریافت فایل pdf صفحه</button>
  </div>
  <img v-else class="loader" src="../assets/images/Animation.gif" alt="">
  <div v-if="isLoading" class="waiting">
    <Timer/>
    <p>
      پاسخ های شما در حال تحلیل و بررسی است
      نتایج عارضه یابی هوشمند کسب و کار تا 15 دقیقه دیگر قابل مشاهده خواهد بود
      با تشکر از صبر و شکیبایی شما
    </p>
  </div>
</template>

<style scoped>
hr {
  width: 80%;
  border: 1px solid black;
}

.main {
  max-height: max-content;
  width: 75%;
  min-width: 300px;
  background: linear-gradient(rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.95)), url("../assets/images/logo.png") repeat-y center center;
  background-size: contain;
  z-index: 0;
}

.main .logo {
  width: 7vw;
  display: flex;
  justify-content: start;
}

.main .logo img {
  width: 100%;
  height: 100%;
}

.main .finalResult {
  width: 100%;
  height: max-content;
}

.main .finalResult .textAndChart {
  width: 100%;
  display: flex;
}

.main .finalResult .textAndChart .gaugeChart {
  width: 30%;
}

.main .finalResult .textAndChart div {
  max-width: 70%;
}

.main .finalText {
  width: 100%;
  text-align: center;
}

.main .finalText a {
  color: black;
  text-decoration: none;
}

.waiting {
  width: 100%;
  text-align: center;
}

.waiting p {
  color: white;
  display: block;
}

p {
  white-space: pre-line;
}
</style>
